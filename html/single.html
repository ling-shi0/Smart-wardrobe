<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>主页</title>
		<script src="../dist/jquery-3.3.1.min.js"></script>
		<script src="../js/mui.min.js"></script>
		<link href="../css/mui.min.css" rel="stylesheet" />
		<link href="../css/single.css" rel="stylesheet" type="text/css" />
		<script src="../js/main.js" type="text/javascript"></script>
		<style type="text/css">
			
			body{
				width: 100%;
				height: 100%;
				}
			#frontDoors{
				width: 100%;
				height: 100%; 
				}
			#leftDoor {
				margin-top: 40px;
				padding: 0;
				z-index:1000;			/*transform-style: preserve-3d;*/
			}
			#rightDoor {
				margin-top: 40px;
				padding: 0;
				z-index:1000;
			}

			
		</style>
	</head>
	<body>
		<header id="header" class="mui-bar mui-bar-nav public-bg-color">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title">单品搭配</h1>
		</header>
	
			<div id="bg">
				<img src="../images/back.png"style="width: 100%;height: 100%;"/>
			</div>
			<div id="frontDoors">
				<img src="../images/leftDoor.png" id="leftDoor">
				<img src="../images/rightdoor.png" id="rightDoor">				
			</div>

 
		<script type="text/javascript">		
			var changeDoorSize = function() {
				var winWidth = $(window).width();
				var blockWidth = winWidth * (1044 / 1824);
				var doorWidth = blockWidth / 2;
				var leftMove = (winWidth - blockWidth) / 2;
				var contentHeight = $(window).height();
				$("#leftDoor").css({
					"margin-left": leftMove - 6,
					"width": doorWidth + 5,
					"height": contentHeight
				});
				$("#rightDoor").css({
					"margin-right": leftMove - 4,
					"width": doorWidth + 5,
					"height": contentHeight
				});
				$("#frontDoors").hover(function() {
					$("#leftDoor").animate({
						"margin-left": leftMove - (doorWidth) + 20
					}, 3000);
					$("#rightDoor").animate({
						"margin-right": leftMove - (doorWidth) + 20
					}, 3000);
				}, function() {
					$("#leftDoor").animate({
						"margin-left": leftMove - 6
					}, 3000);
					$("#rightDoor").animate({
						"margin-right": leftMove - 4
					}, 3000);
				});
				document.getElementById("frontDoors").addEventListener("tap", function() {
						//调用隐藏/显示弹出层
						mui.openWindow({
								url: "pages/addClothes.html",
								id: "addClothes",
								preload: true,
								styles: {
									top: '0px', //新页面顶部位置  
									bottom: '60px',
									 width:"100%",
									 height:"100%",//新页面底部位置   
									popGesture: 'hide'
								},
								show: {
									autoShow: true //页面loaded事件发生后自动显示，默认为true  
							
								}
							});
						}, false);
						document.getElementById("bg").addEventListener("tap", function() {
								//调用隐藏/显示弹出层
								mui.openWindow({
										url: "pages/preview.html",
										id: "preview",
										preload: true,
										styles: {
											top: '0px', //新页面顶部位置  
											bottom: '60px',
											 width:"100%",
											 height:"100%",//新页面底部位置   
											popGesture: 'hide'
										},
										show: {
											autoShow: true //页面loaded事件发生后自动显示，默认为true  
									
										}
									});
								}, false);
				};
				changeDoorSize();
		</script>
	</body>
</html>
